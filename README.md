# ğŸ® GameBox - ë§ˆí”¼ì•„ & ë¼ì´ì–´ í†µí•© í”Œë«í¼

> í°ì„ 'ì¤‘ê°œì'ë¡œ í™œìš©í•˜ì—¬ ëŒ€í™”ì™€ ëŒ€ë©´ ìƒí˜¸ì‘ìš©ì„ ê·¹ëŒ€í™”í•˜ëŠ” ëª¨ë°”ì¼ ì›¹ ê²Œì„ í”Œë«í¼

## ğŸš€ í”„ë¡œì íŠ¸ ê°œìš”

**GameBox**ëŠ” ë‹¤ìŒê³¼ ê°™ì€ í•µì‹¬ ì² í•™ì„ ë°”íƒ•ìœ¼ë¡œ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤:

- **í°ì„ ë³´ëŠ” ì‹œê°„ ìµœì†Œí™”**: ì§ê´€ì ì¸ UIë¡œ ë¹ ë¥¸ ì˜ì‚¬ê²°ì • ì§€ì›
- **ë°ì´í„° ê¸°ë°˜ì˜ ì¶”ë¦¬**: ê²Œì„ ë¡œê·¸ì™€ ë¯¸ì…˜ ì´ë ¥ìœ¼ë¡œ ê°ê´€ì  ê·¼ê±° ì œê³µ
- **ìì—°ìŠ¤ëŸ¬ìš´ ë…¼ìŸ ìœ ë„**: 'ë°”ë³´ ëª¨ë“œ'ë¥¼ í†µí•´ ê²Œì„ì˜ ê¸´ì¥ê° ê·¹ëŒ€í™”

## ğŸ¯ í•µì‹¬ ê²Œì„ ëª¨ë“œ

### 1ï¸âƒ£ ì•¡í‹°ë¸Œ ë§ˆí”¼ì•„ (Active Mafia)

**ë¯¸ì…˜ ì‹œìŠ¤í…œ**
- ë°¤ë§ˆë‹¤ ëª¨ë“  í”Œë ˆì´ì–´ì—ê²Œ êµ¬ì²´ì ì¸ ì§ˆë¬¸ ë˜ëŠ” í–‰ë™ ë¯¸ì…˜ ë¶€ì—¬
- ì˜ˆ: "Bì—ê²Œ ì–´ì œ ë³¸ ìœ íŠœë¸Œì— ëŒ€í•´ ë¬¼ì–´ë³´ê¸°"

**ê²€ì¦ ë¡œì§**
- ë¯¸ì…˜ ìˆ˜í–‰ í›„ ë²„íŠ¼ í´ë¦­ ì‹œ ìƒëŒ€ë°©ì—ê²Œ í™•ì¸ íŒì—… ì „ì†¡
- ì„±ê³µ ì‹œ í¬ì¸íŠ¸ ì§€ê¸‰

**ì •ë³´ ì œê³µ**
- ì‹œë¯¼ë“¤ì—ê²Œ íŒŒí¸í™”ëœ ë‹¨ì„œ ì œê³µ
- ì˜ˆ: "AëŠ” ì–´ì œ ì›€ì§ì„ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤"

### 2ï¸âƒ£ ì»¤ìŠ¤í…€ ë¼ì´ì–´ (Custom Liar)

**ë‚œì´ë„ ì‹œìŠ¤í…œ**
- **Low**: ë¼ì´ì–´ ì¸ì§€ ê°€ëŠ¥, íŒíŠ¸ ì—†ìŒ
- **Normal**: ë¼ì´ì–´ ì¸ì§€ ê°€ëŠ¥, ì¹´í…Œê³ ë¦¬/ì†ì„± íŒíŠ¸ ì œê³µ
- **High (ë°”ë³´ ëª¨ë“œ)**: ë¼ì´ì–´ì—ê²Œ ìì‹ ì´ ë¼ì´ì–´ì„ì„ ì•Œë¦¬ì§€ ì•Šê³  'ìœ ì‚¬ ì •ë‹µ' ì œê³µ
  - ì •ë‹µ: 'ìƒ‰ì—°í•„', ë¼ì´ì–´ì—ê²Œ ì œì‹œ: 'ì‹¸ì¸íœ'

**ìŠ¹ë¦¬ ì¡°ê±´**
- ì‹œë¯¼: ë¼ì´ì–´ ê²€ê±°
- ë¼ì´ì–´: ì •ë‹µ ë§íˆê¸°

## ğŸ’» ê¸°ìˆ  ìŠ¤íƒ

| ê³„ì¸µ | ê¸°ìˆ  |
|------|------|
| **Frontend** | Next.js 16, React 19, TypeScript |
| **Backend** | Node.js, Express, Socket.io |
| **Database** | Supabase (PostgreSQL) |
| **Styling** | Tailwind CSS |
| **Real-time** | Socket.io WebSocket |
| **Deployment** | Vercel (Frontend), Render.com (Backend) |

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
gamebox/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ page.tsx              # í™ˆ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ game-select/page.tsx  # ê²Œì„ ì„ íƒ
â”‚   â”‚   â”œâ”€â”€ lobby/page.tsx        # ê²Œì„ ë¡œë¹„
â”‚   â”‚   â””â”€â”€ api/                  # API ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ game/                 # ê²Œì„ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ ui/                   # UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ socket.ts         # Socket.io í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”‚   â””â”€â”€ game.ts           # ê²Œì„ ì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ supabase/
â”‚   â”‚   â”‚   â””â”€â”€ client.ts         # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ game.ts               # ê²Œì„ íƒ€ì… ì •ì˜
â”œâ”€â”€ server/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts              # ë©”ì¸ ì„œë²„ íŒŒì¼
â”‚   â”‚   â”œâ”€â”€ game/
â”‚   â”‚   â”‚   â”œâ”€â”€ RoomManager.ts    # ë°© ê´€ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ GameEngine.ts     # ê²Œì„ ì—”ì§„
â”‚   â”‚   â”œâ”€â”€ database/             # DB ì„œë¹„ìŠ¤
â”‚   â”‚   â””â”€â”€ lib/
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â”œâ”€â”€ database-schema.sql           # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”œâ”€â”€ .env.local                    # í™˜ê²½ë³€ìˆ˜ ì„¤ì •
â””â”€â”€ package.json
```

## ğŸ› ï¸ ì„¤ì¹˜ ë° ì‹¤í–‰

### 1ë‹¨ê³„: ì˜ì¡´ì„± ì„¤ì¹˜

```bash
npm install
cd server && npm install && cd ..
```

### 2ë‹¨ê³„: í™˜ê²½ë³€ìˆ˜ ì„¤ì •

`.env.local` íŒŒì¼ì—ì„œ ë‹¤ìŒì„ ìˆ˜ì •í•˜ì„¸ìš”:

```env
# Supabase ì„¤ì •
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key

# Socket.io ì„œë²„ (ê°œë°œí™˜ê²½)
NEXT_PUBLIC_SOCKET_URL=http://localhost:4000
```

### 3ë‹¨ê³„: Supabase ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

1. [Supabase](https://supabase.com)ì— ê°€ì…
2. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
3. SQL ì—ë””í„°ì—ì„œ `database-schema.sql` ì‹¤í–‰
4. í”„ë¡œì íŠ¸ URLê³¼ Anon Keyë¥¼ `.env.local`ì— ì…ë ¥

### 4ë‹¨ê³„: ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
npm run dev
```

- **Frontend**: http://localhost:3000
- **Backend**: http://localhost:4000

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### Rooms (ë°©)
- `id`: UUID
- `code`: ë°© ì½”ë“œ (6ì)
- `host_id`: í˜¸ìŠ¤íŠ¸ ID
- `game_mode`: 'active-mafia' | 'custom-liar'
- `state`: ê²Œì„ ìƒíƒœ
- `players`: í”Œë ˆì´ì–´ ë°°ì—´

### Players (í”Œë ˆì´ì–´)
- `id`: UUID
- `room_id`: ë°© ID
- `socket_id`: Socket ID
- `nickname`: ë‹‰ë„¤ì„
- `role`: 'citizen' | 'mafia' | 'liar'
- `alive`: ìƒì¡´ ì—¬ë¶€
- `points`: í¬ì¸íŠ¸

### Missions (ë¯¸ì…˜)
- `id`: UUID
- `room_id`: ë°© ID
- `player_id`: í”Œë ˆì´ì–´ ID
- `mission_text`: ë¯¸ì…˜ í…ìŠ¤íŠ¸
- `type`: 'question' | 'action'
- `completed`: ì™„ë£Œ ì—¬ë¶€

### WordSets (ë‹¨ì–´ ì„¸íŠ¸)
- `id`: UUID
- `answer`: ì •ë‹µ
- `decoy`: ë¼ì´ì–´ìš© ìœ ì‚¬ ì •ë‹µ
- `category`: ì¹´í…Œê³ ë¦¬
- `difficulty`: 'low' | 'normal' | 'high'
- `hint`: íŒíŠ¸

### GameLogs (ê²Œì„ ë¡œê·¸)
- `id`: UUID
- `room_id`: ë°© ID
- `result`: ê²Œì„ ê²°ê³¼
- `started_at`: ì‹œì‘ ì‹œê°„
- `ended_at`: ì¢…ë£Œ ì‹œê°„
- `players_summary`: í”Œë ˆì´ì–´ ì •ë³´ (JSON)

## ğŸ® ê²Œì„ í”Œë¡œìš°

```
1. í™ˆí˜ì´ì§€ (/)
   â†“
2. ê²Œì„ ì„ íƒ (/game-select)
   â†“
3. ë¡œë¹„ (/lobby)
   â†“
4. ê²Œì„ ì§„í–‰ (/game)
   â†“
5. ê²°ê³¼ ë³´ê¸° (/result)
```

## ğŸŒ ë°°í¬ ê°€ì´ë“œ

### Frontend ë°°í¬ (Vercel)

```bash
npm run build
# Vercelì— ì—°ê²°ëœ GitHub ì €ì¥ì†Œì—ì„œ ìë™ ë°°í¬
```

### Backend ë°°í¬ (Render.com)

1. GitHubì— `server` ë””ë ‰í† ë¦¬ë¥¼ í‘¸ì‹œ
2. Render.comì—ì„œ New Web Service ìƒì„±
3. Build Command: `npm install && npm run build`
4. Start Command: `npm start`
5. í™˜ê²½ë³€ìˆ˜ ì„¤ì •:
   - `FRONTEND_URL`: https://your-vercel-app.vercel.app
   - `SUPABASE_URL`: Supabase í”„ë¡œì íŠ¸ URL
   - `SUPABASE_SERVICE_KEY`: Supabase Service Key

## ğŸ“± UI/UX íŠ¹ì§•

- **ë°˜ì‘í˜• ë””ìì¸**: ëª¨ë°”ì¼ ìš°ì„  ì„¤ê³„
- **ì•„ì´ì½˜ ì¤‘ì‹¬ UI**: ì§ê´€ì ì´ê³  ë¹ ë¥¸ ì¸ì‹
- **ì‹¤ì‹œê°„ ë™ê¸°í™”**: Socket.ioë¥¼ í†µí•œ ì¦‰ê°ì ì¸ ìƒíƒœ ì—…ë°ì´íŠ¸
- **ë³µê¸° ê¸°ëŠ¥**: ê²Œì„ ì¢…ë£Œ í›„ ëª¨ë“  ë¯¸ì…˜ê³¼ ì •ë‹µ ê³µê°œ

## ğŸ”§ ê°œë°œ íŒ

### Hot Reload
- ë°±ì—”ë“œ: `ts-node-dev`ë¡œ ìë™ ë¦¬ë¡œë“œ
- í”„ë¡ íŠ¸ì—”ë“œ: Next.js ê¸°ë³¸ Hot Module Replacement

### ë””ë²„ê¹…
```bash
# ë°±ì—”ë“œë§Œ ì‹¤í–‰
npm run dev:backend

# í”„ë¡ íŠ¸ì—”ë“œë§Œ ì‹¤í–‰
npm run dev:frontend
```

## ğŸ“ API ë¬¸ì„œ

### Socket.io ì´ë²¤íŠ¸

#### ë°© ê´€ë ¨
- `room:create` - ìƒˆ ë°© ìƒì„±
- `room:join` - ê¸°ì¡´ ë°© ì…ì¥
- `room:leave` - ë°© ë‚˜ê°€ê¸°
- `room:state-update` - ë°© ìƒíƒœ ì—…ë°ì´íŠ¸ (ìˆ˜ì‹ )

#### ê²Œì„ ì§„í–‰
- `game:start` - ê²Œì„ ì‹œì‘
- `game:phase-change` - ê²Œì„ í˜ì´ì¦ˆ ë³€ê²½ (ìˆ˜ì‹ )
- `game:mission-assign` - ë¯¸ì…˜ í• ë‹¹ (ìˆ˜ì‹ )
- `game:mission-confirm` - ë¯¸ì…˜ ì™„ë£Œ í™•ì¸
- `game:vote` - íˆ¬í‘œ
- `game:end` - ê²Œì„ ì¢…ë£Œ (ìˆ˜ì‹ )

## ğŸ› ì•Œë ¤ì§„ ì´ìŠˆ

- Socket.io ì¬ì—°ê²° ì‹œ ì‚¬ìš©ì ìƒíƒœ ë™ê¸°í™” ê°œì„  í•„ìš”
- ë„¤íŠ¸ì›Œí¬ ëŠê¹€ ì‹œ ë³µêµ¬ ë¡œì§ ê°•í™” í•„ìš”

## ğŸ“š ì¶”ê°€ í•™ìŠµ ìë£Œ

- [Next.js ë¬¸ì„œ](https://nextjs.org/docs)
- [Socket.io ë¬¸ì„œ](https://socket.io/docs/)
- [Supabase ë¬¸ì„œ](https://supabase.com/docs)
- [Tailwind CSS](https://tailwindcss.com/docs)

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License

## ğŸ‘¥ ê¸°ì—¬

ì´ í”„ë¡œì íŠ¸ì— ê¸°ì—¬í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”? Pull Requestë¥¼ ë³´ë‚´ì£¼ì„¸ìš”!

---

**Happy Gaming! ğŸ®âœ¨**

## Deploy on Vercel

The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.

Check out our [Next.js deployment documentation](https://nextjs.org/docs/app/building-your-application/deploying) for more details.
